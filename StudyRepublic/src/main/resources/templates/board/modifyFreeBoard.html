<!-- 
  @author 윤원식
  @since 2019. 2. 2.
  @version
  -modifyFreeBoard.html 으로 이름변경
 -->
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/mainLayout}"
>
<head>

<title></title>
<meta http-equiv="Content-Type" content="text/html"; charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
<script type="text/javascript" src="/smarteditor/js/HuskyEZCreator.js" charset="utf-8"></script>

<style>

#boardName {
	width: 250px;
	height: 40px;
	padding-left: 10px;
	border: 1px solid #ccc;
	border-radius: 4px;
	margin-top: 50px;
	font-size: 16px;
}

#boardTitle {
	width: 50%;
	height: 40px;
	padding: 12px 13px;
	margin: 10px 0;
	border: 1px solid #ccc;
	border-radius: 4px;
	font-size: 16px;
	display: inline-block;
}

#boardNotice, #boardHide {
	margin: 0 5px 0 20px;
	transform: scale(1.5);
}

.boardTitleOpt {
	font-size: 16px;
}

/* .cancelBtn{ */
/*     position:relative; */
/*     top: -22px; */
/*     left: -543px; */
/* } */
/* .previewBtn{ */

/*    position:relative; */
/*     top: -55px; */
/*     left: 772px; */
/* } */

/* .registerBtn{ */
/*     position:relative; */
/*     top: -55px; */
/*     left: 774px; */
/* } */



</style>

</head>

<body>	

<div id = "main" layout:fragment = "main">
<div class="inner">


<form  id="writeForm" th:action="@{modifyRegister}" method="post">
	 
	
<!-- 제목, 공지옵션 비공개옵션 -->
  <div>
    <input id="boardName" name="boardName" type="text" value="자유게시판" readonly> 
    </div>
    
    <div>
	<input id="boardTitle" name="title" type="text" placeholder="제목을 입력해주세요." th:value="${board.title}"> 
	<input id ="boardWriter" name ='id' type='hidden' th:value="${board.member.Id}">
	<input id ="writerNickname" name ='id' type='hidden' th:value="${board.member.nickname}">
	<input type="hidden" name="boardType" value="freeBoard"> 
	<input id="freeBoardId" name="freeBoardId" type="hidden" th:value="${board.freeBoardId}">
    <input id="boardNotice" name="notice" type="checkbox" value="0">
    <span class ="boardTitleOpt">공지</span> 

  
  </div>
  
  <!--제목, 공지옵션, 비공개 옵션 끝 -->
  
  <!-- 다음 에디터 적용 글내용 -->
  <div id = "editor"></div>
    <div>  
       <textarea name="content" id="smarteditor" rows="10" cols="100" style="width:100%; height:100%;" th:text="${board.content}"></textarea>
	</div>

	<!--글내용 끝  -->
  
  <span class="cancelBtn">
    <a class ="btn btn-default" th:href="@{listFreeBoard}" role="button" id="cancel">취소</a> 
  </span>
  
  <span class="previewBtn">
    <button class="btn btn-default" name="writePreview" id="writePreview" type="button">미리보기</button> 
   
  </span>
  <span class="registerBtn">
	 <button name = "boardRegister" id ="boardRegister" class ="btn btn-default" type="submit">수정</button>
  </span>

	 </form>
  </div>
  

 
<script th:inline="javascript">

$(document).ready(function(){
    //전역변수선언
    var editor_object = [];
     
    nhn.husky.EZCreator.createInIFrame({
        oAppRef: editor_object,
        elPlaceHolder: "smarteditor",
        sSkinURI: "/smarteditor/SmartEditor2Skin.html",
        htParams : {
            // 툴바 사용 여부 (true:사용/ false:사용하지 않음)
            bUseToolbar : true,            
            // 입력창 크기 조절바 사용 여부 (true:사용/ false:사용하지 않음)
            bUseVerticalResizer : true,    
            // 모드 탭(Editor | HTML | TEXT) 사용 여부 (true:사용/ false:사용하지 않음)
            bUseModeChanger : true,
            // 기본 글꼴 설정
            SE2M_FontName: {
    			htMainFont: {'id': '굴림','name': '굴림','size': '14','url': '','cssUrl': ''} 
    		}
        }
    

    });
     
    //전송버튼 클릭이벤트
    $("#boardRegister").click(function(){
        //id가 smarteditor인 textarea에 에디터에서 대입
        editor_object.getById["smarteditor"].exec("UPDATE_CONTENTS_FIELD", []);
       
        //폼 submit
         
        $("#boardWriteForm").submit();
            
    });
    
    //미리보기
    $('#writePreview').click(function(){

    	editor_object.getById["smarteditor"].exec("UPDATE_CONTENTS_FIELD", []);
        window.open("preview","자식창","writh=400,height=300,left=300,top=50");


    });
    
  
    
})

    </script>
    </div>
</body>
</html>